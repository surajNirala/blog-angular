<div class="container">
  <div class="row">
    <div class="col-md-6">
      <div class="row card">
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users">
              <td>{{ user.id }}</td>
              <td>{{ user.title }}</td>
              <td>{{ user.firstName }}</td>
              <td>{{ user.lastName }}</td>
              <td>{{ user.email }}</td>
              <td>
                <span (click)="EditForm(user.id)" class="btn btn-sm btn-success"><i class="fa fa-edit"></i></span>
                <span (click)="DeleteForm(user.id)" class="btn btn-sm btn-danger"><i class="fa fa-trash-o"></i></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow">
        <div class="card-header">
          <h2 class="text-center">User Register</h2>
        </div>
        <div class="card-body">
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-md-4">
                <label for="title" class="form-label">Title</label>
                <select formControlName="title" class="form-control" name="title" id="title" [ngClass]="{ 'is-invalid' : submitted && form['title'].errors}">
                  <option value="Mr">Mr</option>
                  <option value="Mrs">Mrs</option>
                  <option value="Miss">Miss</option>
                </select>
                <div *ngIf="submitted && form['title'].errors" class="invalid-feedback">
                    <div *ngIf="form['title'].errors['required']">Title is required!</div>
                </div>
              </div>
              <div class="col-md-4">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" formControlName="firstName" name="firstName" class="form-control" id="firstName" [ngClass]="{ 'is-invalid' : submitted && form['firstName'].errors}">
                <div *ngIf="submitted && form['firstName'].errors" class="invalid-feedback">
                    <div *ngIf="form['firstName'].errors['required']">First Name is required!</div>
                    <div *ngIf="form['firstName'].errors['minLength']">First Name  should be grater than 3 character!</div>
                    <div *ngIf="form['firstName'].errors['maxLength']">First Name  should be less than 15 character!</div>
                </div>
              </div>
              <div class="col-md-4">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text" formControlName="lastName" name="lastName" class="form-control" id="lastName" [ngClass]="{ 'is-invalid' : submitted && form['lastName'].errors}">
              </div>
              <div *ngIf="submitted && form['lastName'].errors" class="invalid-feedback">
                <div *ngIf="form['lastName'].errors['required']">Last Name is required!</div>
                <div *ngIf="form['lastName'].errors['minLength']">Last Name should be grater than 3 character!</div>
                <div *ngIf="form['lastName'].errors['maxLength']">Last Name should be less than 15 character!</div>
            </div>
            </div>
            <div class="mb-3">
              <label for="dob" class="form-label">Date of Birth</label>
              <input type="date" formControlName="dob" name="dob"  class="form-control" id="dob" [ngClass]="{ 'is-invalid' : submitted && form['dob'].errors}">
              <div *ngIf="submitted && form['dob'].errors" class="invalid-feedback">
                <div *ngIf="form['dob'].errors['required']">DOB is required!</div>
                <div *ngIf="form['dob'].errors['pattern']">DOB must be valid date in the format YYYY-mm-dd !</div>
            </div>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input type="text" formControlName="email"  class="form-control" id="email" [ngClass]="{ 'is-invalid' : submitted && form['email'].errors}">
              <div *ngIf="submitted && form['email'].errors" class="invalid-feedback">
                <div *ngIf="form['email'].errors['required']">Email is required!</div>
                <div *ngIf="form['email'].errors['email']">Email must be valid format!</div>
            </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="password" class="form-label">Password</label>
                <input type="password" formControlName="password" class="form-control" id="password" [ngClass]="{ 'is-invalid' : submitted && form['password'].errors}">
                <div *ngIf="submitted && form['password'].errors" class="invalid-feedback">
                  <div *ngIf="form['password'].errors['required']">Password is required!</div>
                  <div *ngIf="form['password'].errors['minLength']">Password must be 6 character long!</div>
              </div>
              </div>
              <div class="col-md-6">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" formControlName="confirmPassword" class="form-control" id="confirmPassword" [ngClass]="{ 'is-invalid' : submitted && form['confirmPassword'].errors}">
                <div *ngIf="submitted && form['confirmPassword'].errors" class="invalid-feedback">
                  <div *ngIf="form['confirmPassword'].errors['required']">Confirm Password is required!</div>
                  <div *ngIf="form['confirmPassword'].errors['minLength']">Confirm Password must be 6 character long!</div>
              </div>
              </div>
            </div>
            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="acceptTerms" formControlName="acceptTerms" [ngClass]="{ 'is-invalid' : submitted && form['acceptTerms'].errors}">
              <label class="form-check-label" for="acceptTerms">Accept Terms & Condition</label>
              <div *ngIf="submitted && form['acceptTerms'].errors" class="invalid-feedback">
                <div *ngIf="form['acceptTerms'].errors['required']">Accept Terms & Condition is required!</div>
            </div>
            </div>
            <button type="submit" class="btn btn-primary me-2">{{ buttonText }}</button>
            <button (click)="onCancel()" type="submit" class="btn btn-danger">Cancel</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
